
<!-- <app-post-cart [currentPost]="cpost"  *ngFor="let cpost of postList"></app-post-cart> -->
<div class="container py-5">
  <div class="row mb-4">
    <div class="col-12">
      <h1 class="mb-4">{{ isMyPostsRoute ? 'My Posts' : 'Dashboard' }}</h1>

      <!-- Sorting Controls -->
      <div class="row mb-4" *ngIf="!isLoading && posts && posts.length > 0">
        <div class="col-md-6">
          <label for="sortSelect" class="form-label fw-semibold">Sort by:</label>
          <select id="sortSelect" class="form-select" [(ngModel)]="sortOption" (change)="onSortChange()">
            <option value="newest">Newest First</option>
            <option value="oldest">Oldest First</option>
            <option value="most_liked">Most Liked</option>
            <option value="least_liked">Least Liked</option>
            <option value="alphabetical">Alphabetical</option>
            <option value="longest">Longest Content</option>
            <option value="shortest">Shortest Content</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading-indicator text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading your posts...</p>
  </div>

  <div *ngIf="!isLoading && (!posts || posts.length === 0)" class="no-posts text-center py-5">
    <div class="empty-state">
      <i class="bi bi-pencil-square" style="font-size: 4rem; color: #6c757d;"></i>
      <h3 class="mt-3" *ngIf="!isMyPostsRoute">No posts yet</h3>
      <h3 class="mt-3" *ngIf="isMyPostsRoute">No posts yet</h3>
      <p class="text-muted" *ngIf="!isMyPostsRoute">Nobody has created any posts yet. Be the first to share something interesting!</p>
      <p class="text-muted" *ngIf="isMyPostsRoute">You haven't created any posts yet. Start sharing your thoughts!</p>
      <a routerLink="/new-post" class="btn btn-primary btn-lg mt-3">
        <i class="bi bi-plus-circle me-2"></i>Create Your First Post
      </a>
      <p *ngIf="!isMyPostsRoute" class="mt-2">
        <a routerLink="/communities" class="text-decoration-none">Explore Communities</a> to find topics you're interested in!
      </p>
    </div>
  </div>

  <div *ngIf="!isLoading && posts && posts.length > 0">
    <app-post-cart [currentPost]="cpost" *ngFor="let cpost of posts" (postDeleted)="onPostDeleted()"></app-post-cart>
  </div>
</div>
